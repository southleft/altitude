import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Releasing" />

# Releasing

Web Components is the UI library driving all digital products. This document outlines our practices to ensure a predictable and stable UI library while introducing changes in a structured manner.

## Our Principles

- **Deliver Stability**: Provide consumers with stable and predictable software.
- **Communication and Coordination**: Maintain open communication and coordinate with teams consuming Web Components.
- **Clear Communication**: Clearly communicate changes and the roadmap to all stakeholders.
- **Minimize Breaking Changes**: Strive to minimize breaking changes to maintain compatibility.
- **Predictable Release Cadence**: Follow a sensible and predictable release schedule.

## Release strategy

Our approach to releasing new versions of Web Components follows a structured schedule to aid teams in planning and coordinating updates effectively.

During these releases, teams can anticipate a range of new features and fixes delivered through minor and patch releases, all of which are fully backwards compatible. Major releases, which may necessitate refactoring in downstream applications, are always coordinated closely with product teams. This ensures alignment with product roadmaps and careful handling of any breaking changes.

In pre-v1.0 releases, there might be adjustments in architecture or naming as the library evolves. If any breaking changes occur before reaching v1.0, our team prioritizes assisting consuming teams in addressing these changes.

Once the component library stabilizes at v1.0, teams can expect Web Components to provide a stable foundation for their projects. We continue to introduce backwards-compatible features and fixes. Any major releases that introduce breaking changes (refer to the "Major changes" section above) are planned in coordination with product teams and their roadmaps.

## Versioning

Web Components follows [SemVer](https://semver.org/) semantic versioning to manage ongoing changes. There are three types of versions:

- **Major (X.y.z)**: Major versions include breaking changes for developers using Web Components.
- **Minor (x.Y.z)**: Minor versions introduce new features or deprecate existing ones without breaking changes.
- **Patch (x.y.Z)**: Patch versions address defects or optimize features without breaking changes.

Here's a breakdown of each version:

### Major Changes

Major releases introduce breaking changes for developers, such as:

- **API**: Removing, renaming, or altering components, props, methods, events, or slots, which may break downstream applications if not addressed.
- **Style**: Making significant changes to box-model properties, typography, or design language that could affect layout or appearance.
- **Icons**: Removing, renaming, or drastically altering icon designs.

### Minor Changes

Minor versions bring additive changes with full backwards compatibility, such as:

- **API**: Adding new components, props, methods, events, or slots. Deprecating existing ones without removing them. Modifying markup or behavior without causing breaking changes.
- **Style**: Making non-disruptive style additions or alterations that maintain layout and design consistency.
- **Icons**: Introducing new icons or making subtle changes to existing ones.

### Patch Changes

Patch versions address defects and optimize existing code by:

- Fixing defects in props, methods, events, or slots that impair component functionality.
- Rectifying styling issues affecting legibility, accessibility, or display.
- Updating component documentation.
- Refactoring code without affecting display or functionality.
- Adding or updating tests.

## Release process

1. Create a release branch, e.g., `release-v0.x.x`.
2. Execute `yarn update-version`. This updates the version in the `package.json` file.
3. Manually update the version number and date in the `CHANGELOG.md` file.
4. Commit the changes: `git commit -am "Updating release version and changelog."`
5. Push the changes to the remote repository: `git push origin main`
6. Tag the release: `git tag -a v0.x.x -m "Release v0.x.x"`
7. Push the tag to the remote: `git push origin -f --tags`
9. Make a pull request to merge the changes into the `main` branch.
9. Confirm the new tag in the Github repository's [tags](https://github.com/southleft/altitude/tags) section.
