import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Icons" />

# Icons

SL Web Components provides utilitarian UI icons (e.g. magnifying glass, menu, triangles, carets, and so on). "Branded" or content-specific icons are not provided by SL Web Components. The SL Icon Library includes an icon font with the font family 'iconfont'.

## Using Icons

Individual icon components containing SVGs are used within this system. These use embedded SVGs where you only need to use the individual web component to get it to show up. This is how that is used:

```html
<sl-icon-chevron-down></sl-icon-chevron-down>
```

The name of the individual icons will always be named the same as the name in the icon grid. So if the name of the icon is `add`, use `sl-icon-add` as the icon in non-modular JS applications.

If you are baking in an icon into a component (e.g. accordion only has `chevron-down` and nothing else), import the individual component and don't use `sl-icon` so that this works in modular and non-modular applications since both ship.

View the "Icon Grid" story in Storybook for a visualization of all available icons to pass into the `name` prop.

### Styling icons

By default, the `sl-icon` component has a height, width, and fill set within the component with the ability to override these values with CSS Custom Properties when using it within another component. By default the icon is set to:

```scss
.sl-c-icon {
  fill: var(--sl-icon-fill, currentColor);
  height: var(--sl-icon-height, size(2));
  width: var(--sl-icon-width, size(2));
}
```

By default, the icon inherits the `color` property from the component that it lives within. So if `sl-button` contains an icon and the button's `color` CSS property is set to red, then the icon will inherit that color for the `fill`. However, if that color needs to be overridden, you would set the fill at the component level where the icon lives (e.g. `new-component.scss`):

```scss
sl-icon {
  --sl-icon-fill: blue;
}
```

If the `sl-icon` is only used in a `<slot>` of a component and not baked within the `component.ts` file itself, then you would style the slotted `sl-icon` like this in you `new-component.scss` file:

```scss
::slotted(sl-icon) {
  --sl-icon-fill: blue;
}
```

## Using Icon Fonts

Icon fonts should be deprioritized in usage as they are not accessible and do not scale well. They also do not work well with RTL languages. Instead, prioritize component icons which utilize svgs. However, in such cases where are needed, you can import the iconfont css file from the `sl-web-components` package and use the iconfont classes to render the icon.

```html
<link rel="stylesheet" href="~sl-web-components/dist/sl/iconfonts/iconfont.css" />

...

<i class="icon icon-switch-default"></i>
```

You can also use a unicode character with a font family of `iconfont` to render the icon (look to iconfont.css for character reference).

```html
<style>
  .my-class {
    font-family: 'iconfont';
  }
</style>

<p class="my-class">\uf105</p>
```

View Storybook > Tokens, Icons, and Utilities > Icons > Icon Font for a visualization of the icon font characters and their unicode characters.

---

## Working with Icons

### Adding a new icon

1. Add the icon SVG file to `./libs/sl-v4.0/sl-web-components/icons`.  This location is the source of truth for all icons in EC1. 

2. Generate icon components and the icon font by running a build, or run `yarn workspace sl-web-components generate-icons`. This script is located in `./libs/sl-v4.0/sl-web-components/scripts`. 

### Formatting icon svg files
Icon svg file need to be formatted properly to render as an icon font. If too many paths are joined, you may end up with icon font characters that are filled in where there should be negative space.  

#### Steps in Adobe Illustrator to format an icon .svg

    1. Run Pathfinder > Divide 
    2. Apply a fill to the svg 
    3. Delete the filled in areas 
    4. Make the svg a Compound Path 
    5. Export the svg 

### Modifiying icons

Modifying icons involves the same steps as adding an icon, only overriding an existing SVG icon file with the new icon. However, releasing modified icons needs to be handled with care as certain icon changes aren't particularly noticeable while others may constitute a breaking change to the library. Refer to the [SL Web Components releasing guidelines](./RELEASING.md) to determine how best to roll out icon updates.

### Removing icons
EC1 icons must be removed manually, as a safeguard against breaking changes.  

To remove an icon: 
1. Delete the svg file from ./libs/sl-v4.0/sl-web-components/icon/fonts 
2. Delete all applicable icon files in the sl-web-components and sl-react directories 

#### Files modified by the generate icons pipeline:  
Check these files when removing or modifying icons
```
sl-web-components/components/icon/fonts/* 
sl-web-components/components/icon/icons/* 
sl-web-components/components/icon/svgs/* 
sl-web-components/.storybook/components/icon-grid/icons.ts 
sl-react/components/Icons/* 
sl-react/src/index.ts 
```

### RTL Support for icons

Components will take care of order of elements and apply spacing, but icons depend on the use case in the application. Icons are placed via `slot`s, so the correct RTL version of the icon would have to be determined by the application layer.
