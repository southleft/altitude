@import '../../styles/component';

/* ------------------------------------ *\
  #BUTTON
\* ------------------------------------ */

/**
 * Default button
 */
.sl-c-button {
  @include sl-theme-typography-body-md-bold;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: var(--sl-theme-space-xs);
  margin: 0;
  padding: var(--sl-button-padding, #{var(--sl-theme-space-xs)} #{var(--sl-theme-space)});
  border: none;
  border-radius: var(--sl-theme-border-radius);
  text-decoration: none;
  cursor: pointer;
  transition: all var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);
  position: relative;
  background-color: var(--sl-theme-color-background-accent-default);
  color: var(--sl-theme-color-content-accent-stronger);
  width: var(--sl-button-width, auto);
  --sl-icon-height: #{var(--sl-theme-icon-lg)};
  --sl-icon-width: #{var(--sl-theme-icon-lg)};

  /**
   * Hover state
   */
  &:hover:not(:active, :disabled) {
    background-color: var(--sl-theme-color-background-accent-weak);
  }

  /**
   * Focus outline for A11y
   */
  &:focus-visible {
    @include focus;
  }

  /**
  * Disabled state
  */
  &:disabled {
    cursor: not-allowed;
    opacity: var(--sl-theme-opacity-disabled);
  }
}

/**
 * Secondary button
 */
.sl-c-button--secondary {
  background-color: var(--sl-theme-color-background-transparent-default);
  border: var(--sl-theme-border-width) solid var(--sl-theme-color-border-default);
  color: var(--sl-theme-color-content-default);

  /**
   * Hover state
   */
  &:hover:not(:active, :disabled) {
    background-color: var(--sl-theme-color-background-transparent-default);
    border-color: var(--sl-theme-color-border-default-weak);
    color: var(--sl-theme-color-content-default-weak);
  }
}

/**
 * Tertiary button
 */
.sl-c-button--tertiary {
  background-color: var(--sl-theme-color-background-transparent-default);
  color: var(--sl-theme-color-content-default);

  /**
   * Hover state
   */
  &:hover:not(:active, :disabled) {
    background-color: var(--sl-theme-color-background-transparent-default);
    color: var(--sl-theme-color-content-default-weak);
  }
}

/**
 * Danger button
 */
.sl-c-button--danger {
  background-color: var(--sl-theme-color-background-danger-default);
  color: var(--sl-theme-color-content-danger-weak);

  /**
   * Hover state
   */
  &:hover:not(:active, :disabled) {
    background-color: var(--sl-theme-color-background-danger-strong);
  }
}

/**
 * Icon only button
 */
.sl-c-button--icon-only {
  padding: var(--sl-button-padding, #{var(--sl-theme-space-xs)} #{var(--sl-theme-space-xs)});
}

/**
 * Full-width button
 */
.sl-c-button--full-width {
  width: 100%;
  text-align: center;
}

/**
 * Allows for click events to only be on the button element and not slotted items
 */
::slotted(*) {
  pointer-events: none;
}

/*------------------------------------*\
  #MENU-ITEM-BUTTON
\*------------------------------------*/

/**
 * Menu item button
 * - Controls the expanded state for Menu Item's
 */
.sl-c-menu-item-button {
  position: relative;
  height: var(--sl-menu-item-height);
  width: size(5);
  border-radius: 0;
  line-height: 1;
  color: var(--sl-theme-color-content-default-weak);
  background: var(--sl-theme-color-background-transparent);

  /**
   * Menu item buton focus outline with rounded borders
   */
  &::before {
    @include focus;
    display: block;
    position: absolute;
    content: '';
    inset-block-start: 0;
    inset-inline-start: 0;
    height: 100%;
    width: 100%;
    visibility: hidden;
    opacity: 0;
    background: transparent;
    border-radius: var(--sl-theme-border-radius-xs);
    z-index: 1;
    pointer-events: none;
  }

  /**
   * Menu item button icon
   * - The chevron icon that visually displays whether the menu item is expanded
   */
  .sl-c-button__icon {
    transition: transform var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);
    transform: rotate(0deg);
  }

  /**
   * Menu item button hover state
   */
  &:hover:not(:active, :disabled) {
    color: var(--sl-theme-color-content-default-weak);
    background: var(--sl-theme-color-background-default-strong);

    /**
     * Show focus outline with rounded borders on focus-visible
     */
    &::before {
      visibility: hidden;
      opacity: 0;
    }
  }

  /**
   * Menu item button focus state
   */
   &:focus-visible {
    outline: none;

    /**
     * Show focus outline with rounded borders on focus-visible
     */
    &::before {
      visibility: visible;
      opacity: 1;
    }
  }

  /**
   * Menu item button selected state
   */
  &.sl-is-selected {
    color: var(--sl-theme-color-content-default-accent-stronger);
    background: var(--sl-theme-color-background-accent-default);

    /**
     * Menu item button hover state on a selected menu item
     */
    &:hover:not(:active, .sl-is-disabled) {
      color: var(--sl-theme-color-content-accent-stronger);
      background: var(--sl-theme-color-background-accent-weak);
    }
  }

  /**
   * Menu item button expanded state
   * - Rotate the icon when expanded
  */
  &.sl-is-expanded {
    .sl-c-button__icon {
      transform: rotate(-180deg);
    }
  }
}



