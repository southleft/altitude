@import '../../styles/component';
/* ------------------------------------*\
  #TOOLTIP
\*------------------------------------ */

:host {
  display: contents;
  --tooltip-arrow-size: #{size(1.0625)};
  --tooltip-offset: #{size(0.5)};
}

/**
 * Tooltip
 */
.sl-c-tooltip {
  position: relative;
  display: inline-flex;
  cursor: pointer;
}

/**
 * Tooltip with arrow
 */
.sl-has-arrow {
  --tooltip-offset: #{size(1.25)};
}

/**
 * Tooltip container
 */
.sl-c-tooltip__container {
  transition: opacity var(--sl-theme-animation-duration) var(--sl-theme-animation-timing), visibility var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);
  display: flex;
  flex-flow: row wrap;
  opacity: 0;
  visibility: hidden;
  align-items: center;
  justify-content: flex-start;
  position: absolute;
  inset-inline-end: 0;
  inset-block-start: calc(100% + var(--tooltip-offset));
  column-gap: size(0.75);
  row-gap: size(0.5);
  padding: size(0.5) size(1);
  width: max-content;
  max-width: var(--sl-tooltip-container-width, #{size(32)});
  background-color: var(--sl-theme-color-background-default-stronger);
  color: var(--sl-theme-color-content-default);
  border-radius: var(--sl-theme-border-radius);
  box-shadow: var(--sl-theme-box-shadow);
  z-index: var(--sl-z-index-top);
  margin: auto;
  cursor: default;
  word-break: break-word;
  @include sl-theme-typography-body-xs;

  /**
   * Tooltip content after pseudo element
   * - Triangle used to point towards the tooltip trigger
   */
  &:after {
    content: '';
    display: none;
    position: absolute;
    background-color: var(--sl-theme-color-background-default-stronger);
    transform: rotate(45deg);
    width: var(--tooltip-arrow-size);
    height: var(--tooltip-arrow-size);
    z-index: 0;
  }

  /**
   * Active state for tooltip tooltip
   */
  .sl-is-active & {
    opacity: 1;
    visibility: visible;
  }

  /**
   * Tooltip prefix
   * - Adjust the left padding if there is a prefix
   */
  .sl-has-prefix & {
    padding-inline-start: size(0.5);
  }

  /**
   * Tooltip arrow
   * - Show the arrow if hasArrow is true, hide if false
   */
  .sl-has-arrow & {
    &:after {
      display: flex;
    }
  }

  /**
   * Tooltip container positioned to the top of the trigger
   */
  .sl-c-tooltip--top & {
    inset-block-start: auto;
    inset-block-end: calc(100% + var(--tooltip-offset));
    inset-inline-start: 50%;
    inset-inline-end: auto;
    transform: translateX(var(--rtlTranslateX, -50%));

    /**
     * Tooltip arrow positioning
     */
    &:after {
      inset-block-end: calc(-1 * (var(--tooltip-arrow-size) / 2));
      inset-inline-start: calc(50% - (var(--tooltip-arrow-size) / 2));
    }
  }

  /**
   * Tooltip container positioned to the bottom of the trigger
   */
  .sl-c-tooltip--bottom & {
    inset-block-start: calc(100% + var(--tooltip-offset));
    inset-block-end: auto;
    inset-inline-start: 50%;
    inset-inline-end: auto;
    transform: translateX(var(--rtlTranslateX, -50%));

    /**
     * Tooltip arrow positioning
     */
    &:after {
      inset-block-start: calc(-1 * (var(--tooltip-arrow-size) / 2));
      inset-inline-start: calc(50% - (var(--tooltip-arrow-size) / 2));
    }
  }

  /**
   * Tooltip container positioned to the left of the trigger
   */
  .sl-c-tooltip--left & {
    inset-block-start: 50%;
    inset-block-end: auto;
    inset-inline-start: auto;
    inset-inline-end: calc(100% + var(--tooltip-offset));
    transform: translateY(-50%);

    /**
     * Tooltip arrow positioning
     */
    &:after {
      inset-block-end: calc(50% - (var(--tooltip-arrow-size) / 2));
      inset-inline-end: calc(-1 * (var(--tooltip-arrow-size) / 2));
      inset-inline-start: auto;
    }
  }

  /**
   * Tooltip container positioned to the right of the trigger
   */
  .sl-c-tooltip--right & {
    inset-block-start: 50%;
    inset-block-end: auto;
    inset-inline-start: calc(100% + var(--tooltip-offset));
    inset-inline-end: auto;
    transform: translateY(-50%);

    /**
     * Tooltip arrow positioning
     */
    &:after {
      inset-block-end: calc(50% - (var(--tooltip-arrow-size) / 2));
      inset-inline-start: calc(-1 * (var(--tooltip-arrow-size) / 2));
    }
  }
}

/**
 * Tooltip prefix
 */
.sl-c-tooltip__prefix {
  border-radius: var(--sl-theme-border-radius);
  background-color: var(--sl-theme-color-background-default);
  color: var(--sl-theme-color-content-default);
  padding: 0 size(0.75);
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  gap: size(0.5);
}

/**
 * Tooltip trigger
 */
.sl-c-tooltip__trigger {
  &:focus-visible {
    --sl-theme-color-focus-ring: transparent;
  }

  /**
   * Allows for click events to only be on the trigger element and not slotted items
   */
  .sl-is-interactive & {
    slot {
      pointer-events: none;
    }
  }
}





