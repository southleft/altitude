@import '../../styles/component';
/* ------------------------------------*\
    #ACCORDION-PANEL
\*------------------------------------ */

/**
* Accordion panel
*/
.sl-c-accordion-panel {
  width: 100%;
  border-block-end: var(--sl-theme-border-width) solid var(--sl-theme-color-border-default-weak);

  &.sl-is-last {
    border-color: transparent;
  }
}

/**
* Accordion panel button
* - Icon rotating on open was causing scrollbars to continuously appear/disapear
*    during the animation, overflow-inline: hidden; prevents this from happening
*/
.sl-c-accordion-panel__button {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  border: none;
  padding: size(2);
  gap: var(--sl-theme-space);
  width: 100%;
  cursor: pointer;
  overflow-x: hidden; /* 1 */
  color: inherit;
  background: var(--sl-theme-color-background-transparent);
  transition: background-color var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);

  &:hover:not(:active, :disabled) {
    background-color: var(--sl-theme-color-background-default);
  }

  &:disabled {
    cursor: not-allowed;
    opacity: var(--sl-theme-opacity-disabled);
  }
}

/**
 * Accordion panel title
 */
.sl-c-accordion__title {
  @include sl-theme-typography-body-md;
  display: flex;
  align-items: center;
  gap: var(--sl-theme-space);
}

/**
 * Accordion icon
 */
.sl-c-accordion-panel__icon {
  transition: transform var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);

  /**
   * Accordion icon animation
   */
  .sl-is-active & {
    transform: rotate(-180deg);
  }
}

/**
 * Accordion panel body
 * - Visibility set to hidden so user can't tab inside panel content while closed
 */
.sl-c-accordion-panel__body {
  margin: 0;
  overflow: auto;
  visibility: hidden; /* 1 */
  max-height: 0;
  transition: max-height var(--sl-theme-animation-duration) var(--sl-theme-animation-timing), visibility var(--sl-theme-animation-duration) var(--sl-theme-animation-timing);

  /**
   * Accordion panel body within active accordion panel
   * - Visibility set to visible so user can tab within panel content when panel is open
   */
  .sl-is-active & {
    max-height: 100vh;
    visibility: visible;
    overflow: visible;
  }
}

/**
 * Accordion panel body inner
 */
.sl-c-accordion-panel__body-inner {
  padding: size(2);
}
