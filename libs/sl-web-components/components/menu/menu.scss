@import '../../tokens/sl/component';
/*------------------------------------*\
 #MENU
\*------------------------------------*/

:host {
  display: contents;
  --sl-menu-panel-offset: #{size(0.5)};
  --sl-menu-panel-shift: 0;
}

/**
 * Menu component
 * - Prevents the menu trigger from taking on the width of the menu when the menu is closed
 */
.sl-c-menu {
  width: 100%;
  height: auto;
  min-width: fit-content;
  display: block;
  position: relative;

  /**
   * Prevent full width if has a trigger
   */
  &.sl-has-trigger {
    width: max-content
  }
}

/**
 * Menu outer wrapper provided to enable scrolling
 */
.sl-c-menu__panel {
  display: none;
  padding: size(0.5) 0;
  background: var(--sl-theme-color-background-primary-strong);
  border: var(--sl-menu-panel-border, none);
  border-radius: var(--sl-theme-border-radius);
  box-shadow: var(--sl-theme-box-shadow-lg);
  width: var(--sl-menu-panel-width, 100%);
  height: var(--sl-menu-panel-height, auto);

  /**
   * Cascading variant
   */
  .sl-c-menu--cascading & {
    padding: 0;
    background-color: var(--sl-theme-color-background-transparent);
    box-shadow: none;
    border-radius: none;
  }

  /**
   * Display the menu when it is active
   */
  .sl-is-active & {
    display: block;
  }

  /**
   * Enable vertical scrolling
   */
  .sl-has-overflow & {
    overflow-y: auto;
    --sl-focus-outline-offset: calc(#{var(--sl-theme-border-width-md)} * -1);
  }

  /**
   * Position menu panel below the trigger
   */
  .sl-has-trigger & {
    position: absolute;
    width: var(--sl-menu-panel-width, max-content);
  }

  /**
   * Menu panel positioned to the bottom right of the trigger
   */
  .sl-c-menu--bottom-right & {
    inset-block-start: calc(100% + var(--sl-menu-panel-offset));
    inset-block-end: auto;
    inset-inline-start: var(--sl-menu-panel-shift);
    inset-inline-end: auto;
  }

  /**
   * Menu panel positioned to the bottom left of the trigger
   */
  .sl-c-menu--bottom-left & {
    inset-block-start: calc(100% + var(--sl-menu-panel-offset));
    inset-block-end: auto;
    inset-inline-start: auto;
    inset-inline-end: var(--sl-menu-panel-shift);
  }

  /**
   * Menu panel positioned to the top right of the trigger
   */
  .sl-c-menu--top-right & {
    inset-block-start: auto;
    inset-block-end: calc(100% + var(--sl-menu-panel-offset));
    inset-inline-start: var(--sl-menu-panel-shift);
    inset-inline-end: auto;
  }

  /**
   * Menu panel positioned to the top left of the trigger
   */
  .sl-c-menu--top-left & {
    inset-block-start: auto;
    inset-block-end: calc(100% + var(--sl-menu-panel-offset));
    inset-inline-start: auto;
    inset-inline-end: var(--sl-menu-panel-shift);
  }

  /**
   * Menu panel positioned to the left of the trigger
   */
  .sl-c-menu--left & {
    inset-block-start: var(--sl-menu-panel-shift);
    inset-block-end: auto;
    inset-inline-start: auto;
    inset-inline-end: calc(100% + var(--sl-menu-panel-offset));
  }

  /**
   * Menu panel positioned to the right of the trigger
   */
  .sl-c-menu--right & {
    inset-block-start: var(--sl-menu-panel-shift);
    inset-block-end: auto;
    inset-inline-start: calc(100% + var(--sl-menu-panel-offset));
    inset-inline-end: auto;
  }
}

/**
 * Menu list
 * - The UL element inside the menu component
 */
.sl-c-menu__list {
  margin: 0;
  padding: 0;
  list-style: none;
}

/**
 * Menu Trigger
 * - The trigger button that opens and closes the menu
 */
 .sl-c-menu__trigger {
  width: fit-content;
}