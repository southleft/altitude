# Tokens
This project utilizes [Token Studio](https://tokens.studio/) in Figma and [Style Dictionary](https://amzn.github.io/style-dictionary/#/README) to establish the connection between design and development. Follow the workflows below to make any token updates.

## How to Build Tokens
To build tokens, follow these steps:

1. Ensure you have Node.js and Yarn installed on your machine.
2. Navigate to the project directory in your terminal.
3. Run the following command to trigger the build process of generating the necessary token files for your project.

```
yarn build:tokens
```

## How to Update Tokens
This project is connected to Figma via Token Studio. Follow these steps to add new tokens or update existing ones:

1. Switch to the branch `figma-tokens`.
2. Make any neccessary token updates to the `.json` files in the  `style/tokens` folder.
3. Save the file(s) and push your changes to the branch.
4. Create a Pull Request in GitHub and assign a designer as a reviewer.
5. Once the PR is approved, it can be merged into master.

**Important** Never update any `.css` files directly as they will be auto-generated by the build command based on the JSON files.

## How to Add a New Theme
To add a new theme, follow these steps:

1. Open the `tokens-config.js` file.
2. Locate the section where themes are built, identified by `styleDictionaryBuildTheme('themeName');`.
3. Add a new line following the existing pattern, replacing `themeName` with the name of your new theme.
4. Save the file.

For example:
```
styleDictionaryBuildTheme('newTheme');
```

_**Important:** If the new theme was not added via Figma first, then be sure to update the `styles/tokens/$metadata.json` and `styles/tokens/$themes.json` to reflect the new theme configuration._

For example:
```
  {
    "id": "3f3ab7e9c703afba6f9d7f5d46a60091db456ff1",
    "name": "theme-name",
    "selectedTokenSets": {
      "tier-1/colors": "source",
      "tier-2/theme/theme-name/colors": "enabled",
      "tier-3/theme/theme-name/colors": "enabled"
    },
    "group": "Tier 2/Theme"
  },
```

## How to Add a New Brand
To add a new brand, follow these steps:

1. Open the `tokens-config.js` file.
2. Locate the section where brands are built, identified by `styleDictionaryBuildBrand('themeName', 'brandName');`.
3. Add a new line following the existing pattern, replacing `themeName` with the relevant theme and `brandName` with the name of your new brand.
4. Save the file.

For example:
```
styleDictionaryBuildBrand('themeName', 'newBrand');
```

_**Important:** If the new brand was not added via Figma first, then be sure to update the `styles/tokens/$metadata.json` and `styles/tokens/$themes.json` to reflect the new brand configuration._

For example:
```
  {
    "id": "8d34c7a84df6c11f1f02ed6a69a290254d7a8d1f",
    "name": "new-brand",
    "$figmaStyleReferences": {},
    "selectedTokenSets": {
      "tier-1/colors": "source",
      "tier-2/theme/light/colors": "source",
      "tier-3/theme/light/colors": "source",
      "tier-2/brand/new-brand/colors": "enabled",
      "tier-3/brand/new-brand/colors": "enabled"
    },
    "group": "Tier 2/Brand"
  }
```

## Token Structure
```
|__ tokens
   |__ $metadata.json (Used to order tokens in Token Studio)
   |__ $themes.json (Used to configure themes in Token Studio)
   |__ tier-1 (These tokens should only be referenced by tier-2 tokens)
       |__ animations.json
       |__ base.json
       |__ borders.json
       |__ breakpoints.json
       |__ colors.json
       |__ icons.json
       |__ layout.json
       |__ opacity.json
       |__ shadows.json
       |__ spacing.json
       |__ typography.json
       |__ z-index.json
   |__ tier-2 (These tokens should only be referenced by tier-1 tokens)
       |__ animations.json
       |__ borders.json
       |__ icons.json
       |__ layout.json
       |__ opacity.json
       |__ shadows.json
       |__ spacing.json
       |__ typography.json
       |__ theme
           |__ light
               |__ colors.json (Color tokens for a light theme)
           |__ dark
               |__ colors.json (Color tokens for a dark theme)
       |__ brand (Contains all brands unique to the project)
   |__ tier-3 (These tokens should only be referenced by tier-2 tokens)
       |__ theme
           |__ light
               |__ colors.json (Color tokens for a light theme)
           |__ dark
               |__ colors.json (Color tokens for a dark theme)
       |__ brand (Contains all brands unique to the project)
```